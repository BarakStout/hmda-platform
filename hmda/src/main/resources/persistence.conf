akka {

  persistence {
    journal.plugin = "cassandra-journal"

    snapshot-store.plugin = "cassandra-snapshot-store"

    query {
      journal.id = "cassandra-query-journal"
    }
  }

  actor {
    allow-java-serialization = off

    serializers {
      institution-commands = "hmda.persistence.serialization.institution.InstitutionCommandsSerializer"
      institution-events = "hmda.persistence.serialization.institution.InstitutionEventsSerializer"
    }
    serialization-bindings {
      "hmda.model.institution.Institution" = institution-commands
      "hmda.messages.institution.InstitutionCommands$CreateInstitution" = institution-commands
      "hmda.messages.institution.InstitutionCommands$ModifyInstitution" = institution-commands
      "hmda.messages.institution.InstitutionCommands$GetInstitution" = institution-commands
      "hmda.messages.institution.InstitutionCommands$DeleteInstitution" = institution-commands

      "hmda.messages.institution.InstitutionEvents$InstitutionCreated" = institution-events
      "hmda.messages.institution.InstitutionEvents$InstitutionModified" = institution-events
      "hmda.messages.institution.InstitutionEvents$InstitutionDeleted" = institution-events
      "hmda.messages.institution.InstitutionEvents$InstitutionNotExists" = institution-events
    }
  }
}

cassandra-journal {
  contact-points = ["localhost"]
  contact-points = [${?CASSANDRA_CLUSTER_HOSTS}]
  keyspace = "hmda2_journal"
  keyspace = ${?CASSANDRA_JOURNAL_KEYSPACE}
  table = "journal"
  authentication.username = ""
  authentication.username = ${?CASSANDRA_CLUSTER_USERNAME}
  authentication.password = ""
  authentication.password = ${?CASSANDRA_CLUSTER_PASSWORD}
}

cassandra-snapshot-store {
  contact-points = ["localhost"]
  contact-points = [${?CASSANDRA_CLUSTER_HOSTS}]
  keyspace = "hmda2_snapshot"
  keyspace = ${?CASSANDRA_SNAPSHOT_KEYSPACE}
  table = "snapshot"
  authentication.username = ""
  authentication.username = ${?CASSANDRA_CLUSTER_USERNAME}
  authentication.password = ""
  authentication.password = ${?CASSANDRA_CLUSTER_PASSWORD}
}