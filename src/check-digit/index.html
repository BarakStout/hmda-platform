<!doctype html>
<html lang="en" style="margin: 0;">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>HMDA Platform API - Check Digit</title>
  <link rel="stylesheet" href="../css/default.css">
  <link rel="stylesheet" href="../css/app.min.css">
</head>
<body style="margin: 0;">
  <a class="usa-skipnav" name="top" href="#main-content">Skip to main content</a>
  <div style="display: flex; height: 100vh;">
    <div style="flex: 0 0 40%; background-color: #fafafa;">
      <div style="margin: 1.5em 30px 0 65%;">
        <aside>
          <a href="#" title="Home" aria-label="Federal Agency Name Home"><img src="../img/ffiec-logo.png" height="25px"></a>
          <ul class="usa-sidenav-list">
            <li><a href="../" title="Home">Home</a></li>
            <li>
              <a href="../institutions/">Institutions</a>
              <ul class="usa-sidenav-sub_list">
                <li><a href="../institutions/#search">Search</a></li>
                <li><a href="../institutions/#modified-lar">Modified LAR</a></li>
              </ul>
            </li>
            <li>
              <a href="" class="usa-current">Check Digit</a>
              <ul class="usa-sidenav-sub_list">
                <li><a href="#generation">Generation</a></li>
                <li><a href="#generation-batch">Batch Generation</a></li>
                <li><a href="#validation">Validation</a></li>
                <li><a href="#validation-batch">Batch Validation</a></li>
              </ul>
            </li>
          </ul>
        </aside>
      </div>
    </div>
    <main id="main-content" style="flex: 0 0 60%; overflow: auto; padding: 0 20% 0 30px;">

      <!-- Gov banner BEGIN -->
      <div id="top" class="usa-banner" style="background-color: white; padding-top: 20px;">
        <header class="usa-banner-header">
          <div class="usa-grid usa-banner-inner">
            <img src="../img/favicons/favicon-57.png" alt="U.S. flag">
            <p>An official website of the United States government</p>
          </div>
        </header>
      </div>
      <!-- Gov banner END -->

      <h1>Check digit</h1>
      <hgroup>
        <h2 id="generation">Generation</h2>
        <h3>Generate a check digit and full ULI from a loan id.</h3>
        <h4>Using the <code>/uli/checkDigit</code> endpoint provide a loan id and get the check digit and full ULI in a response.</h4>
      </hgroup>

      <h5>Allowed Methods</h5>
      <code>POST</code>

      <h5>Parameters</h5>
      <table>
        <thead>
          <tr>
            <th>Name</th>
            <th>Type</th>
            <th>Description</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td><code>loanId</code></td>
            <td><code>string</code></td>
            <td>A valid loan id.</td>
          </tr>
        </tbody>
      </table>

      <h5>Example</h5>
      <pre><code class="language-bash">POST /uli/checkDigit</code></pre>
      <h5>Example payload</h5>
      <section class="code-block">
        <code>JSON</code>
        <pre><code class="language-json">{
  "loanId": "10Bx939c5543TqA1144M999143X"
}</code></pre>
      </section>

      <h5>Example Response</h5>
      <section class="code-block">
        <code>JSON</code>
        <pre><code class="language-json">{
  "loanId": "10Cx939c5543TqA1144M999143X",
  "checkDigit": 10,
  "uli": "10Cx939c5543TqA1144M999143X10"
}</code></pre>
      </section>

      <hgroup>
        <h2 id="generation-batch">Batch Generation</h2>
        <h3>Generate batch check digits and full ULIs from a file.</h3>
        <h4>Using the <code>/uli/checkDigit/csv</code> endpoint provide a file with a list of loan ids, each on a new line.</h4>
      </hgroup>

      <h5>Allowed Methods</h5>
      <code>POST</code>

      <h5>Example</h5>
      <pre><code class="language-bash">POST /uli/checkDigit/csv</code></pre>

      <h5>Example file contents</h5>
      <section class="code-block">
        <pre><code class="language-bash">10Cx939c5543TqA1144M999143X
10Bx939c5543TqA1144M999143X</code></pre>
      </section>

      <h5>Example Response in <code>CSV</code> format</h5>
      <section class="code-block">
        <code>CSV</code>
        <pre><code class="language-bash">loanId,checkDigit,uli
10Bx939c5543TqA1144M999143X,38,10Bx939c5543TqA1144M999143X38
10Cx939c5543TqA1144M999143X,10,10Cx939c5543TqA1144M999143X10</code></pre>
      </section>

      <hgroup>
        <h2 id="validation">Validation</h2>
        <h3>Validates that a ULI has the correct check digit.</h3>
        <h4>Using the <code>/uli/validate</code> endpoint you can provide a ULI and get the response of valid or not.</h4>
      </hgroup>

      <h5>Allowed Methods</h5>
      <code>POST</code>

      <h5>Parameters</h5>
      <table>
        <thead>
          <tr>
            <th>Name</th>
            <th>Type</th>
            <th>Description</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td><code>uli</code></td>
            <td><code>string</code></td>
            <td>A ULI.</td>
          </tr>
        </tbody>
      </table>

      <h5>Example</h5>
      <pre><code class="language-bash">POST /uli/validate</code></pre>

      <h5>Example payload</h5>
      <section class="code-block">
        <code>JSON</code>
        <pre><code class="language-json">{
  "uli": "10Bx939c5543TqA1144M999143X38"
}</code></pre></section>

      <h5>Example Response</h5>
      <section class="code-block">
        <code>JSON</code>
      <pre><code class="language-json">{
    "isValid": true
}</code></pre>
      </section>

      <hgroup>
        <h2 id="validation-batch">Batch Validation</h2>
        <h3>Validates that a batch of ULIs have the correct check digit.</h3>
        <h4>Using the <code>/uli/validate/csv</code> endpoint you can provide a list of ULIs and get the response of valid or not for each.</h4>
      </hgroup>

      <h5>Allowed Methods</h5>
      <code>POST</code>

      <h5>Example</h5>
      <pre><code class="language-bash">POST /uli/validate/csv</code></pre>

      <h5>Example file content</h5>
      <section class="code-block">
        <pre><code class="language-bash">10Cx939c5543TqA1144M999143X10
10Bx939c5543TqA1144M999143X38
10Bx939c5543TqA1144M999133X38</code></pre>
      </section>

      <h5>Example Response in <code>CSV</code> format</h5>
      <section class="code-block">
        <code>CSV</code>
        <pre><code class="language-bash">uli,isValid
10Cx939c5543TqA1144M999143X10,true
10Bx939c5543TqA1144M999143X38,true
10Bx939c5543TqA1144M999133X38,false</code></pre>
      </section>

      <footer class="usa-footer usa-footer-medium" role="contentinfo">
        <div class="usa-footer-return-to-top">
          <a href="#top">Return to top</a>
        </div>
        <div class="usa-footer-primary-section">
          <nav class="usa-footer-nav">
            <ul class="usa-unstyled-list">
              <li class="usa-width-one-fourth usa-footer-primary-content"><a class="usa-footer-primary-link" href="../">Home</a></li>
              <li class="usa-width-one-fourth usa-footer-primary-content"><a class="usa-footer-primary-link" href="../institutions/">Institutions</a></li>
              <li class="usa-width-one-fourth usa-footer-primary-content"><a class="usa-footer-primary-link" href="">Check Digit</a></li>
            </ul>
          </nav>
        </div>
      </footer>
    </main>
  </div>
  <script src="../js/prism.js"></script>
</body>
</html>