
<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>API Documentation</title>

    <style>
      .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight .gh {
  color: #999999;
}
.highlight .sr {
  color: #f6aa11;
}
.highlight .go {
  color: #888888;
}
.highlight .gp {
  color: #555555;
}
.highlight .gs {
}
.highlight .gu {
  color: #aaaaaa;
}
.highlight .nb {
  color: #f6aa11;
}
.highlight .cm {
  color: #75715e;
}
.highlight .cp {
  color: #75715e;
}
.highlight .c1 {
  color: #75715e;
}
.highlight .cs {
  color: #75715e;
}
.highlight .c, .highlight .cd {
  color: #75715e;
}
.highlight .err {
  color: #960050;
}
.highlight .gr {
  color: #960050;
}
.highlight .gt {
  color: #960050;
}
.highlight .gd {
  color: #49483e;
}
.highlight .gi {
  color: #49483e;
}
.highlight .ge {
  color: #49483e;
}
.highlight .kc {
  color: #66d9ef;
}
.highlight .kd {
  color: #66d9ef;
}
.highlight .kr {
  color: #66d9ef;
}
.highlight .no {
  color: #66d9ef;
}
.highlight .kt {
  color: #66d9ef;
}
.highlight .mf {
  color: #ae81ff;
}
.highlight .mh {
  color: #ae81ff;
}
.highlight .il {
  color: #ae81ff;
}
.highlight .mi {
  color: #ae81ff;
}
.highlight .mo {
  color: #ae81ff;
}
.highlight .m, .highlight .mb, .highlight .mx {
  color: #ae81ff;
}
.highlight .sc {
  color: #ae81ff;
}
.highlight .se {
  color: #ae81ff;
}
.highlight .ss {
  color: #ae81ff;
}
.highlight .sd {
  color: #e6db74;
}
.highlight .s2 {
  color: #e6db74;
}
.highlight .sb {
  color: #e6db74;
}
.highlight .sh {
  color: #e6db74;
}
.highlight .si {
  color: #e6db74;
}
.highlight .sx {
  color: #e6db74;
}
.highlight .s1 {
  color: #e6db74;
}
.highlight .s {
  color: #e6db74;
}
.highlight .na {
  color: #a6e22e;
}
.highlight .nc {
  color: #a6e22e;
}
.highlight .nd {
  color: #a6e22e;
}
.highlight .ne {
  color: #a6e22e;
}
.highlight .nf {
  color: #a6e22e;
}
.highlight .vc {
  color: #ffffff;
}
.highlight .nn {
  color: #ffffff;
}
.highlight .nl {
  color: #ffffff;
}
.highlight .ni {
  color: #ffffff;
}
.highlight .bp {
  color: #ffffff;
}
.highlight .vg {
  color: #ffffff;
}
.highlight .vi {
  color: #ffffff;
}
.highlight .nv {
  color: #ffffff;
}
.highlight .w {
  color: #ffffff;
}
.highlight {
  color: #ffffff;
}
.highlight .n, .highlight .py, .highlight .nx {
  color: #ffffff;
}
.highlight .ow {
  color: #f92672;
}
.highlight .nt {
  color: #f92672;
}
.highlight .k, .highlight .kv {
  color: #f92672;
}
.highlight .kn {
  color: #f92672;
}
.highlight .kp {
  color: #f92672;
}
.highlight .o {
  color: #f92672;
}
    </style>
    <link href="stylesheets/screen.css" rel="stylesheet" media="screen" />
    <link href="stylesheets/print.css" rel="stylesheet" media="print" />
      <script src="javascripts/all_nosearch.js"></script>
  </head>

  <body class="index" data-languages="[]">
    <a href="#" id="nav-button">
      <span>
        NAV
        <img src="images/navbar.png" alt="Navbar" />
      </span>
    </a>
    <div class="toc-wrapper">
      <a href="/"><img src="images/ffiec-logo.png" class="logo" alt="Ffiec logo" /></a>
      <ul id="toc" class="toc-list-h1">
          <li>
            <a href="#hmda-api-documentation" class="toc-h1 toc-link" data-title="HMDA API Documentation">HMDA API Documentation</a>
          </li>
          <li>
            <a href="#data-browser-api" class="toc-h1 toc-link" data-title="Data Browser API">Data Browser API</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#data-browser-api-end-points" class="toc-h2 toc-link" data-title="End Points">End Points</a>
                  </li>
                  <li>
                    <a href="#data-browser-api-filters" class="toc-h2 toc-link" data-title="Filters">Filters</a>
                  </li>
                  <li>
                    <a href="#data-browser-api-aggregation-example" class="toc-h2 toc-link" data-title="Aggregation Example">Aggregation Example</a>
                  </li>
                  <li>
                    <a href="#data-browser-api-csv-example" class="toc-h2 toc-link" data-title="CSV Example">CSV Example</a>
                  </li>
                  <li>
                    <a href="#data-browser-api-errors" class="toc-h2 toc-link" data-title="Errors">Errors</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#hmda-filing-api" class="toc-h1 toc-link" data-title="HMDA Filing API">HMDA Filing API</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#hmda-filing-api-errors-health-check" class="toc-h2 toc-link" data-title="Health Check">Health Check</a>
                  </li>
                  <li>
                    <a href="#hmda-filing-api-authorization" class="toc-h2 toc-link" data-title="Authorization">Authorization</a>
                  </li>
                  <li>
                    <a href="#hmda-filing-api-end-points" class="toc-h2 toc-link" data-title="End Points">End Points</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#hmda-filing-api-end-points-start-a-filing" class="toc-h3 toc-link" data-title="Start a Filing">Start a Filing</a>
                          </li>
                          <li>
                            <a href="#hmda-filing-api-end-points-get-a-filing" class="toc-h3 toc-link" data-title="Get a Filing">Get a Filing</a>
                          </li>
                          <li>
                            <a href="#hmda-filing-api-end-points-create-submission" class="toc-h3 toc-link" data-title="Create Submission">Create Submission</a>
                          </li>
                          <li>
                            <a href="#hmda-filing-api-end-points-get-latest-submission" class="toc-h3 toc-link" data-title="Get latest submission">Get latest submission</a>
                          </li>
                          <li>
                            <a href="#hmda-filing-api-end-points-upload-file" class="toc-h3 toc-link" data-title="Upload File">Upload File</a>
                          </li>
                          <li>
                            <a href="#hmda-filing-api-end-points-view-parse-errors" class="toc-h3 toc-link" data-title="View parse errors">View parse errors</a>
                          </li>
                          <li>
                            <a href="#hmda-filing-api-end-points-view-all-edits" class="toc-h3 toc-link" data-title="View all edits">View all edits</a>
                          </li>
                          <li>
                            <a href="#hmda-filing-api-end-points-view-edit-details" class="toc-h3 toc-link" data-title="View edit details">View edit details</a>
                          </li>
                          <li>
                            <a href="#hmda-filing-api-end-points-verify-quality-edits" class="toc-h3 toc-link" data-title="Verify Quality Edits">Verify Quality Edits</a>
                          </li>
                          <li>
                            <a href="#hmda-filing-api-end-points-verify-macro-edits" class="toc-h3 toc-link" data-title="Verify Macro Edits">Verify Macro Edits</a>
                          </li>
                          <li>
                            <a href="#hmda-filing-api-end-points-sign-a-submission" class="toc-h3 toc-link" data-title="Sign a Submission">Sign a Submission</a>
                          </li>
                          <li>
                            <a href="#hmda-filing-api-end-points-get-sign-receipt" class="toc-h3 toc-link" data-title="Get Sign receipt">Get Sign receipt</a>
                          </li>
                      </ul>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#rate-spread" class="toc-h1 toc-link" data-title="Rate Spread">Rate Spread</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#rate-spread-rate-spread-api" class="toc-h2 toc-link" data-title="Rate Spread API">Rate Spread API</a>
                  </li>
                  <li>
                    <a href="#rate-spread-end-points" class="toc-h2 toc-link" data-title="End Points">End Points</a>
                  </li>
                  <li>
                    <a href="#rate-spread-json-example" class="toc-h2 toc-link" data-title="JSON Example">JSON Example</a>
                  </li>
                  <li>
                    <a href="#rate-spread-csv-file-format" class="toc-h2 toc-link" data-title="CSV File Format">CSV File Format</a>
                  </li>
                  <li>
                    <a href="#rate-spread-csv-example" class="toc-h2 toc-link" data-title="CSV Example">CSV Example</a>
                  </li>
              </ul>
          </li>
      </ul>
    </div>
    <div class="page-wrapper">
      <div class="dark-box"></div>
      <div class="content">
        <h1 id='hmda-api-documentation'>HMDA API Documentation</h1>
<p>The HMDA Platform API helps to prepare and test your HMDA data by allowing you to calculate rate spread, check a single LAR for formatting errors, generate/validate a check digit, and more.</p>
<h1 id='data-browser-api'>Data Browser API</h1>
<p>The data browser api enables developers to interact with HMDA data. The API will return the data in JSON or CSV.</p>

<p><em>Note:</em> depending on the query, files might take a while to generate and may not open using conventional spread sheet applications.</p>
<h2 id='data-browser-api-end-points'>End Points</h2>
<p>Use <code>data-browser-api/view/</code> for the end points bellow. Each end point could be called on nationwide data or on specific states/msamds. If <code>nationwide</code> is not specified, state(s) or msamds <strong>must</strong> be selected. A call made with the nationwide end point will discard any state(s) or msamds if present. For state, use 2 character state name. For msamd use a 5 digit integer.</p>

<ul>
<li><strong>Aggregations</strong></li>
</ul>

<p>The <code>aggregation</code> end point can be used to generated JSON reports.</p>

<ul>
<li><strong>CSV</strong></li>
</ul>

<p>The <code>csv</code> end point can be used to generate CSV reports. The file will be streamed.</p>
<h2 id='data-browser-api-filters'>Filters</h2>
<p>Data request could be filtered based on the following parameters. Multiple options are acceptable.</p>

<table><thead>
<tr>
<th>Variable Name</th>
<th>Options</th>
</tr>
</thead><tbody>
<tr>
<td>actions_taken</td>
<td>1,2,3,4,5,6,7,8</td>
</tr>
<tr>
<td>construction_methods</td>
<td>1,2</td>
</tr>
<tr>
<td>dwelling_categories</td>
<td>Single Family (1-4 Units):Site-Built<br>Multifamily:Site-Built<br>Single Family (1-4 Units):Manufactured<br>Multifamily:Manufactured</td>
</tr>
<tr>
<td>ethnicities</td>
<td>Hispanic or Latino<br>Not Hispanic or Latino<br>Joint<br>Ethnicity Not Available<br>Free Form Text Only</td>
</tr>
<tr>
<td>lien_statuses</td>
<td>1,2</td>
</tr>
<tr>
<td>loan_products</td>
<td>Conventional:First Lien<br>FHA:First Lien<br>VA:First Lien<br>FSA/RHS:First Lien<br>Conventional:Subordinate Lien<br>FHA:Subordinate Lien<br>VA:Subordinate Lien<br>FSA/RHS:Subordinate Lien</td>
</tr>
<tr>
<td>loan_purposes</td>
<td>1,2,31,32,4,5</td>
</tr>
<tr>
<td>loan_types</td>
<td>1,2,3,4</td>
</tr>
<tr>
<td>races</td>
<td>Asian<br>Native Hawaiian or Other Pacific Islander<br>Free Form Text Only<br>Race Not Available<br>American Indian or Alaska Native<br>Black or African American<br>2 or more minority races<br>White<br>Joint</td>
</tr>
<tr>
<td>sexes</td>
<td>Male<br>Female<br>Joint<br>Sex Not Available</td>
</tr>
<tr>
<td>total_units</td>
<td>1,2,3,4,5-24,25-49,50-99,100-149,&gt;149</td>
</tr>
</tbody></table>
<h2 id='data-browser-api-aggregation-example'>Aggregation Example</h2>
<blockquote>
<p>Example</p>
</blockquote>
<pre class="highlight shell tab-shell"><code>  curl <span class="s2">"http://localhost:8070/data-browser-api/view/aggregations?states=MD&amp;years=2018&amp;actions_taken=5,6&amp;races=White,Asian,Joint"</span>
</code></pre>
<blockquote>
<p>JSON Response</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="w">  </span><span class="p">{</span><span class="w">
    </span><span class="s2">"parameters"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"year"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"MD"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"actions_taken"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5,6"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"races"</span><span class="p">:</span><span class="w"> </span><span class="s2">"White,Asian,Joint"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"aggregations"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="s2">"count"</span><span class="p">:</span><span class="w"> </span><span class="mi">243</span><span class="p">,</span><span class="w">
            </span><span class="s2">"sum"</span><span class="p">:</span><span class="w"> </span><span class="mf">9.4325</span><span class="err">E</span><span class="mi">7</span><span class="p">,</span><span class="w">
            </span><span class="s2">"actions_taken"</span><span class="p">:</span><span class="w"> </span><span class="s2">"6"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"races"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Joint"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"MD"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"year"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="s2">"count"</span><span class="p">:</span><span class="w"> </span><span class="mi">716</span><span class="p">,</span><span class="w">
            </span><span class="s2">"sum"</span><span class="p">:</span><span class="w"> </span><span class="mf">2.5435</span><span class="err">E</span><span class="mi">8</span><span class="p">,</span><span class="w">
            </span><span class="s2">"actions_taken"</span><span class="p">:</span><span class="w"> </span><span class="s2">"6"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"races"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Asian"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"MD"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"year"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="s2">"count"</span><span class="p">:</span><span class="w"> </span><span class="mi">7505</span><span class="p">,</span><span class="w">
            </span><span class="s2">"sum"</span><span class="p">:</span><span class="w"> </span><span class="mf">2.323145</span><span class="err">E</span><span class="mi">9</span><span class="p">,</span><span class="w">
            </span><span class="s2">"actions_taken"</span><span class="p">:</span><span class="w"> </span><span class="s2">"6"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"races"</span><span class="p">:</span><span class="w"> </span><span class="s2">"White"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"MD"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"year"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="s2">"count"</span><span class="p">:</span><span class="w"> </span><span class="mi">165</span><span class="p">,</span><span class="w">
            </span><span class="s2">"sum"</span><span class="p">:</span><span class="w"> </span><span class="mf">4.7595</span><span class="err">E</span><span class="mi">7</span><span class="p">,</span><span class="w">
            </span><span class="s2">"actions_taken"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"races"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Joint"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"MD"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"year"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="s2">"count"</span><span class="p">:</span><span class="w"> </span><span class="mi">679</span><span class="p">,</span><span class="w">
            </span><span class="s2">"sum"</span><span class="p">:</span><span class="w"> </span><span class="mf">1.90835</span><span class="err">E</span><span class="mi">8</span><span class="p">,</span><span class="w">
            </span><span class="s2">"actions_taken"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"races"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Asian"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"MD"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"year"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="s2">"count"</span><span class="p">:</span><span class="w"> </span><span class="mi">5237</span><span class="p">,</span><span class="w">
            </span><span class="s2">"sum"</span><span class="p">:</span><span class="w"> </span><span class="mf">1.241115</span><span class="err">E</span><span class="mi">9</span><span class="p">,</span><span class="w">
            </span><span class="s2">"actions_taken"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"races"</span><span class="p">:</span><span class="w"> </span><span class="s2">"White"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"MD"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"year"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p><code>GET</code> JSON with the following parameters</p>

<table><thead>
<tr>
<th>var</th>
<th>value</th>
</tr>
</thead><tbody>
<tr>
<td>years</td>
<td>2018</td>
</tr>
<tr>
<td>states</td>
<td>MD</td>
</tr>
<tr>
<td>actions_taken</td>
<td>5,6</td>
</tr>
<tr>
<td>races</td>
<td>White, Asian, Joint</td>
</tr>
</tbody></table>
<h2 id='data-browser-api-csv-example'>CSV Example</h2>
<blockquote>
<p>Example</p>
</blockquote>
<pre class="highlight shell tab-shell"><code>  curl -L <span class="s2">"http://localhost:8070/data-browser-api/view/csv?states=CA,MD,DC&amp;years=2018&amp;actions_taken=5"</span>
</code></pre>
<blockquote>
<p>CSV file</p>
</blockquote>

<p><code>GET</code> CSV file with the following parameters</p>

<table><thead>
<tr>
<th>var</th>
<th>value</th>
</tr>
</thead><tbody>
<tr>
<td>states</td>
<td>CA, MD, DC</td>
</tr>
<tr>
<td>years</td>
<td>2018</td>
</tr>
<tr>
<td>action_taken</td>
<td>5</td>
</tr>
</tbody></table>
<h2 id='data-browser-api-errors'>Errors</h2>
<blockquote>
<p>Example</p>
</blockquote>
<pre class="highlight shell tab-shell"><code>curl <span class="s2">"http://localhost:8070/data-browser-api/view/csv"</span>
</code></pre>
<blockquote>
<p>JSON Response</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"errorType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"provide-atleast-msamds-or-states"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Provide year and either states or msamds or both"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Incorrect calls will result in an error. For example the following call will result in an error since there is no state(s)/msamds and years provided.</p>

<p><br></p>
<h1 id='hmda-filing-api'>HMDA Filing API</h1>
<p>The following are HMDA Filling API end points</p>
<h3 id='hmda-filing-api-errors-health-check'>Health Check</h3><pre class="highlight shell tab-shell"><code>curl <span class="s2">"https://ffiec.cfpb.gov/v2/filing"</span>
</code></pre>
<p><code>GET</code> Health checks could be preformed to see if the api server is live</p>

<blockquote>
<p>JSON Response</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"status"</span><span class="p">:</span><span class="s2">"OK"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"service"</span><span class="p">:</span><span class="s2">"hmda-filing-api"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"time"</span><span class="p">:</span><span class="s2">"2019-01-01T01:01:51.866Z"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"host"</span><span class="p">:</span><span class="s2">"HOSTNAME"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><h2 id='hmda-filing-api-authorization'>Authorization</h2>
<p>To file HMDA data using the API, an <em>bearer</em> authorization token is required for all api calls. To acquire an authorization token use the <code>/auth</code> end point with your username and password as payload.</p>

<blockquote>
<p>Example</p>
</blockquote>
<pre class="highlight shell tab-shell"><code>curl -X POST <span class="se">\</span>
  https://ffiec.cfpb.gov/v2/filing/auth/realms/hmda2/protocol/openid-connect/token <span class="se">\</span>
  -d <span class="s1">'client_id=hmda2-api&amp;grant_type=password&amp;username={{username}}%40{{bank_domain}}&amp;password={{password}}'</span>
</code></pre>
<table><thead>
<tr>
<th></th>
<th></th>
</tr>
</thead><tbody>
<tr>
<td>Method</td>
<td><code>POST</code></td>
</tr>
<tr>
<td>URL</td>
<td><code>https://ffiec.cfpb.gov/v2/filing/auth/realms/hmda2/protocol/openid-connect/token</code></td>
</tr>
<tr>
<td>Payload</td>
<td>client_id=hmda2-api <br> grant_type=password <br> username={{username}}%40{{bank_domain}} <br> password={{password}}</td>
</tr>
<tr>
<td>Return</td>
<td>JSON with <code>access_token</code></td>
</tr>
</tbody></table>
<h2 id='hmda-filing-api-end-points'>End Points</h2>
<p>Use <code>https://ffiec.cfpb.gov/v2/filing/institutions/{lei}/filings</code> as a prefix for the following endpoints.</p>
<h3 id='hmda-filing-api-end-points-start-a-filing'>Start a Filing</h3>
<blockquote>
<p>Example</p>
</blockquote>
<pre class="highlight shell tab-shell"><code>curl -X POST <span class="se">\</span>
  https://ffiec.cfpb.gov/v2/filing/institutions/B90YWS6AFX2LGWOXJ1LD/filings/2019 <span class="se">\</span>
  -H <span class="s1">'Authorization: Bearer  {{access_token}}'</span> <span class="se">\</span>
</code></pre>
<blockquote>
<p>JSON Response</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"filing"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"period"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"lei"</span><span class="p">:</span><span class="w"> </span><span class="s2">"B90YWS6AFX2LGWOXJ1LD"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
            </span><span class="s2">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"in-progress"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"filingRequired"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="s2">"start"</span><span class="p">:</span><span class="w"> </span><span class="mi">1572378187454</span><span class="p">,</span><span class="w">
        </span><span class="s2">"end"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"submissions"</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<table><thead>
<tr>
<th></th>
<th></th>
</tr>
</thead><tbody>
<tr>
<td>Method</td>
<td><code>POST</code></td>
</tr>
<tr>
<td>End Point</td>
<td><code>/{{year}}</code></td>
</tr>
</tbody></table>
<h3 id='hmda-filing-api-end-points-get-a-filing'>Get a Filing</h3>
<blockquote>
<p>Example</p>
</blockquote>
<pre class="highlight shell tab-shell"><code>curl -X GET <span class="se">\</span>
  https://ffiec.cfpb.gov/v2/filing/institutions/B90YWS6AFX2LGWOXJ1LD/filings/2019 <span class="se">\</span>
  -H <span class="s1">'Authorization: Bearer  {{access_token}}'</span> <span class="se">\</span>
</code></pre>
<blockquote>
<p>JSON Response</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"filing"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"period"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"lei"</span><span class="p">:</span><span class="w"> </span><span class="s2">"B90YWS6AFX2LGWOXJ1LD"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
            </span><span class="s2">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"in-progress"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"filingRequired"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="s2">"start"</span><span class="p">:</span><span class="w"> </span><span class="mi">1572378187454</span><span class="p">,</span><span class="w">
        </span><span class="s2">"end"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"submissions"</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<table><thead>
<tr>
<th></th>
<th></th>
</tr>
</thead><tbody>
<tr>
<td>Method</td>
<td><code>GET</code></td>
</tr>
<tr>
<td>End Point</td>
<td><code>/{{year}}</code></td>
</tr>
</tbody></table>
<h3 id='hmda-filing-api-end-points-create-submission'>Create Submission</h3>
<blockquote>
<p>Example</p>
</blockquote>
<pre class="highlight shell tab-shell"><code>curl -X POST <span class="se">\</span>
  https://ffiec.cfpb.gov/v2/filing/institutions/B90YWS6AFX2LGWOXJ1LD/filings/2018/submissions <span class="se">\</span>
  -H <span class="s1">'Authorization: Bearer {{access_token}}'</span> <span class="se">\</span>
</code></pre>
<blockquote>
<p>JSON Response</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"lei"</span><span class="p">:</span><span class="w"> </span><span class="s2">"B90YWS6AFX2LGWOXJ1LD"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"period"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"sequenceNumber"</span><span class="p">:</span><span class="w"> </span><span class="mi">4</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="s2">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"No data has been uploaded yet."</span><span class="p">,</span><span class="w">
        </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"The filing period is open and available to accept HMDA data. Make sure your data is in a pipe-delimited text file."</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"start"</span><span class="p">:</span><span class="w"> </span><span class="mi">1572358820303</span><span class="p">,</span><span class="w">
    </span><span class="s2">"end"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"fileName"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="s2">"receipt"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<table><thead>
<tr>
<th></th>
<th></th>
</tr>
</thead><tbody>
<tr>
<td>Method</td>
<td><code>POST</code></td>
</tr>
<tr>
<td>End Point</td>
<td><code>/{{year}}/submissions</code></td>
</tr>
<tr>
<td>Payload</td>
<td>{{access_token}}</td>
</tr>
<tr>
<td>Return</td>
<td>Returns JSON with <code>{{sequenceNumber}}</code></td>
</tr>
</tbody></table>
<h3 id='hmda-filing-api-end-points-get-latest-submission'>Get latest submission</h3>
<blockquote>
<p>Example</p>
</blockquote>
<pre class="highlight shell tab-shell"><code>curl -X GET <span class="se">\</span>
  https://ffiec.cfpb.gov/v2/filing/institutions/B90YWS6AFX2LGWOXJ1LD/filings/2018/submissions/latest <span class="se">\</span>
  -H <span class="s1">'Authorization: Bearer {{access_token}}'</span> <span class="se">\</span>
</code></pre>
<blockquote>
<p>JSON Response</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"lei"</span><span class="p">:</span><span class="w"> </span><span class="s2">"B90YWS6AFX2LGWOXJ1LD"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"period"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"sequenceNumber"</span><span class="p">:</span><span class="w"> </span><span class="mi">1520</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">13</span><span class="p">,</span><span class="w">
        </span><span class="s2">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Your data has macro edits that need to be reviewed."</span><span class="p">,</span><span class="w">
        </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Your file has been uploaded, but the filing process may not proceed until edits are verified or the file is corrected and re-uploaded."</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"start"</span><span class="p">:</span><span class="w"> </span><span class="mi">1572372016130</span><span class="p">,</span><span class="w">
    </span><span class="s2">"end"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"fileName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"clean_file_10.txt"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"receipt"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="s2">"qualityVerified"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="s2">"macroVerified"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="s2">"qualityExists"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="s2">"macroExists"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<table><thead>
<tr>
<th></th>
<th></th>
</tr>
</thead><tbody>
<tr>
<td>Method</td>
<td><code>GET</code></td>
</tr>
<tr>
<td>End Point</td>
<td><code>/{{year}}/submissions/latest</code></td>
</tr>
<tr>
<td>Return</td>
<td>Details for the latest submission</td>
</tr>
</tbody></table>
<h3 id='hmda-filing-api-end-points-upload-file'>Upload File</h3>
<blockquote>
<p>Example</p>
</blockquote>
<pre class="highlight shell tab-shell"><code>curl -X POST <span class="se">\</span>
  https://ffiec.cfpb.gov/v2/filing/institutions/B90YWS6AFX2LGWOXJ1LD/filings/2019/submissions/13 <span class="se">\</span>
  -H <span class="s1">'Authorization: Bearer {{access_token}}'</span> <span class="se">\</span>
  -H <span class="s1">'content-type: multipart/form-data; boundary=----WebKitFormBoundary7MA4YWxkTrZu0gW'</span> <span class="se">\</span>
  -F <span class="nv">file</span><span class="o">=</span>&lt;file.csv&gt;
</code></pre>
<blockquote>
<p>JSON Response</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"lei"</span><span class="p">:</span><span class="w"> </span><span class="s2">"B90YWS6AFX2LGWOXJ1LD"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"period"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"sequenceNumber"</span><span class="p">:</span><span class="w"> </span><span class="mi">55</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">13</span><span class="p">,</span><span class="w">
        </span><span class="s2">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Your data has macro edits that need to be reviewed."</span><span class="p">,</span><span class="w">
        </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Your file has been uploaded, but the filing process may not proceed until edits are verified or the file is corrected and re-uploaded."</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"start"</span><span class="p">:</span><span class="w"> </span><span class="mi">1572372016130</span><span class="p">,</span><span class="w">
    </span><span class="s2">"end"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"fileName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"clean_file_10.txt"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"receipt"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="s2">"qualityVerified"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="s2">"macroVerified"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="s2">"qualityExists"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="s2">"macroExists"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<table><thead>
<tr>
<th></th>
<th></th>
</tr>
</thead><tbody>
<tr>
<td>Method</td>
<td><code>POST</code></td>
</tr>
<tr>
<td>End Point</td>
<td><code>/{{year}}/submissions/{{sequenceNumber}}</code></td>
</tr>
<tr>
<td>Headers</td>
<td><code>&#39;Content-Type&#39;: multipart/form-data</code></td>
</tr>
<tr>
<td>Payload</td>
<td>LAR file</td>
</tr>
</tbody></table>
<h3 id='hmda-filing-api-end-points-view-parse-errors'>View parse errors</h3>
<blockquote>
<p>Example</p>
</blockquote>
<pre class="highlight shell tab-shell"><code>curl -X POST <span class="se">\</span>
  https://ffiec.cfpb.gov/v2/filing/institutions/B90YWS6AFX2LGWOXJ1LD/filings/2018/submissions/24/parseErrors <span class="se">\</span>
  -H <span class="s1">'Authorization: Bearer {{access_token}}'</span>
</code></pre>
<blockquote>
<p>JSON Response</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"transmittalSheetErrors"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
    </span><span class="s2">"larErrors"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
    </span><span class="s2">"count"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"total"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">13</span><span class="p">,</span><span class="w">
        </span><span class="s2">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Your data has macro edits that need to be reviewed."</span><span class="p">,</span><span class="w">
        </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Your file has been uploaded, but the filing process may not proceed until edits are verified or the file is corrected and re-uploaded."</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"_links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/institutions/B90YWS6AFX2LGWOXJ1LD/filings/2018/submissions/24/parseErrors{rel}"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"self"</span><span class="p">:</span><span class="w"> </span><span class="s2">"?page=1"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"first"</span><span class="p">:</span><span class="w"> </span><span class="s2">"?page=1"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"prev"</span><span class="p">:</span><span class="w"> </span><span class="s2">"?page=1"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"next"</span><span class="p">:</span><span class="w"> </span><span class="s2">"?page=0"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"last"</span><span class="p">:</span><span class="w"> </span><span class="s2">"?page=0"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<table><thead>
<tr>
<th></th>
<th></th>
</tr>
</thead><tbody>
<tr>
<td>Method</td>
<td><code>GET</code></td>
</tr>
<tr>
<td>End Point</td>
<td><code>/{{year}}/submissions/{{sequenceNumber}}/parseErrors</code></td>
</tr>
</tbody></table>
<h3 id='hmda-filing-api-end-points-view-all-edits'>View all edits</h3>
<blockquote>
<p>Example</p>
</blockquote>
<pre class="highlight shell tab-shell"><code>curl -X POST <span class="se">\</span>
  https://ffiec.cfpb.gov/v2/filing/institutions/B90YWS6AFX2LGWOXJ1LD/filings/2018/submissions/24/edits <span class="se">\</span>
  -H <span class="s1">'Authorization: Bearer {{access_token}}'</span>
</code></pre>
<blockquote>
<p>JSON Response</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"syntactical"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"edits"</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"validity"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"edits"</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"quality"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"edits"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="s2">"edit"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Q630"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"If Total Units is greater than or equal to 5, then HOEPA Status generally should equal 3."</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="s2">"edit"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Q631"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"If Loan Type equals 2, 3 or 4, then Total Units generally should be less than or equal to 4."</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="s2">"verified"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"macro"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"edits"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="s2">"edit"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Q637"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"No more than 15% of the loans in the file should report Action Taken equals 5. Your data indicates a percentage outside of this range."</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="s2">"verified"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">13</span><span class="p">,</span><span class="w">
        </span><span class="s2">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Your data has macro edits that need to be reviewed."</span><span class="p">,</span><span class="w">
        </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Your file has been uploaded, but the filing process may not proceed until edits are verified or the file is corrected and re-uploaded."</span><span class="p">,</span><span class="w">
        </span><span class="s2">"qualityVerified"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="s2">"macroVerified"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<table><thead>
<tr>
<th></th>
<th></th>
</tr>
</thead><tbody>
<tr>
<td>Method</td>
<td><code>GET</code></td>
</tr>
<tr>
<td>End Point</td>
<td><code>/{{year}}/submissions/{{sequenceNumber}}/edits</code></td>
</tr>
</tbody></table>
<h3 id='hmda-filing-api-end-points-view-edit-details'>View edit details</h3>
<blockquote>
<p>Example</p>
</blockquote>
<pre class="highlight shell tab-shell"><code>curl -X POST <span class="se">\</span>
  https://ffiec.cfpb.gov/v2/filing/institutions/B90YWS6AFX2LGWOXJ1LD/filings/2018/submissions/24/edits/Q631 <span class="se">\</span>
  -H <span class="s1">'Authorization: Bearer {{access_token}}'</span>
</code></pre>
<blockquote>
<p>JSON Response</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"edit"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Q631"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"rows"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
           </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"B90YWS6AFX2LGWOXJ1LDHHXWCDPM0ZEHW08FFTXGRXT62"</span><span class="p">,</span><span class="w">
           </span><span class="s2">"fields"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
               </span><span class="p">{</span><span class="w">
                   </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Loan Type"</span><span class="p">,</span><span class="w">
                   </span><span class="s2">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3"</span><span class="w">
               </span><span class="p">},</span><span class="w">
               </span><span class="p">{</span><span class="w">
                   </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Total Units"</span><span class="p">,</span><span class="w">
                   </span><span class="s2">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"16"</span><span class="w">
               </span><span class="p">}</span><span class="w">
           </span><span class="p">]</span><span class="w">
       </span><span class="p">}</span><span class="w">
   </span><span class="p">],</span><span class="w">
   </span><span class="s2">"count"</span><span class="p">:</span><span class="w"> </span><span class="mi">20</span><span class="p">,</span><span class="w">
   </span><span class="s2">"total"</span><span class="p">:</span><span class="w"> </span><span class="mi">54</span><span class="p">,</span><span class="w">
   </span><span class="s2">"_links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
       </span><span class="s2">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/institutions/B90YWS6AFX2LGWOXJ1LD/filings/2018/submissions/24/edits/Q631{rel}"</span><span class="p">,</span><span class="w">
       </span><span class="s2">"self"</span><span class="p">:</span><span class="w"> </span><span class="s2">"?page=1"</span><span class="p">,</span><span class="w">
       </span><span class="s2">"first"</span><span class="p">:</span><span class="w"> </span><span class="s2">"?page=1"</span><span class="p">,</span><span class="w">
       </span><span class="s2">"prev"</span><span class="p">:</span><span class="w"> </span><span class="s2">"?page=1"</span><span class="p">,</span><span class="w">
       </span><span class="s2">"next"</span><span class="p">:</span><span class="w"> </span><span class="s2">"?page=2"</span><span class="p">,</span><span class="w">
       </span><span class="s2">"last"</span><span class="p">:</span><span class="w"> </span><span class="s2">"?page=3"</span><span class="w">
   </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<table><thead>
<tr>
<th></th>
<th></th>
</tr>
</thead><tbody>
<tr>
<td>Method</td>
<td><code>GET</code></td>
</tr>
<tr>
<td>End Point</td>
<td><code>/{{year}}/submissions/{{sequenceNumber}}/edits/{{edit_code}}</code></td>
</tr>
</tbody></table>
<h3 id='hmda-filing-api-end-points-verify-quality-edits'>Verify Quality Edits</h3>
<blockquote>
<p>Example</p>
</blockquote>
<pre class="highlight shell tab-shell"><code>curl -X POST <span class="se">\</span>
  https://ffiec.cfpb.gov/v2/filing/institutions/B90YWS6AFX2LGWOXJ1LD/filings/2018/submissions/sequenceNumber/edits/quality <span class="se">\</span>
  -H <span class="s1">'Authorization: Bearer {{access_token}}'</span> <span class="se">\</span>
  -d <span class="s1">'{"verified": true}'</span>
</code></pre>
<blockquote>
<p>JSON Response</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"verified"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">13</span><span class="p">,</span><span class="w">
        </span><span class="s2">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Your data has macro edits that need to be reviewed."</span><span class="p">,</span><span class="w">
        </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Your file has been uploaded, but the filing process may not proceed until edits are verified or the file is corrected and re-uploaded."</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<table><thead>
<tr>
<th></th>
<th></th>
</tr>
</thead><tbody>
<tr>
<td>Method</td>
<td><code>POST</code></td>
</tr>
<tr>
<td>End Point</td>
<td><code>/{{year}}/submissions/{{sequenceNumber}}/edits/quality</code></td>
</tr>
<tr>
<td>Body</td>
<td><code>{&quot;verified&quot;: true}</code></td>
</tr>
</tbody></table>
<h3 id='hmda-filing-api-end-points-verify-macro-edits'>Verify Macro Edits</h3>
<blockquote>
<p>Example</p>
</blockquote>
<pre class="highlight shell tab-shell"><code>curl -X POST <span class="se">\</span>
  https://ffiec.cfpb.gov/v2/filing/institutions/B90YWS6AFX2LGWOXJ1LD/filings/2018/submissions/sequenceNumber/edits/macro <span class="se">\</span>
  -H <span class="s1">'Authorization: Bearer {{access_token}}'</span> <span class="se">\</span>
  -d <span class="s1">'{"verified": true}'</span>
</code></pre>
<blockquote>
<p>JSON Response</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"verified"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">14</span><span class="p">,</span><span class="w">
        </span><span class="s2">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Your data is ready for submission."</span><span class="p">,</span><span class="w">
        </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Your financial institution has certified that the data is correct, but it has not been submitted yet."</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<table><thead>
<tr>
<th></th>
<th></th>
</tr>
</thead><tbody>
<tr>
<td>Method</td>
<td><code>POST</code></td>
</tr>
<tr>
<td>End Point</td>
<td><code>/{{year}}/submissions/{{sequenceNumber}}/edits/macro</code></td>
</tr>
<tr>
<td>Body</td>
<td><code>{&quot;verified&quot;: true}</code></td>
</tr>
</tbody></table>
<h3 id='hmda-filing-api-end-points-sign-a-submission'>Sign a Submission</h3>
<blockquote>
<p>Example</p>
</blockquote>
<pre class="highlight shell tab-shell"><code>curl -X POST <span class="se">\</span>
  https://ffiec.cfpb.gov/v2/filing/institutions/B90YWS6AFX2LGWOXJ1LD/filings/2018/submissions/55/sign <span class="se">\</span>
  -H <span class="s1">'Authorization: Bearer {{access_token}}'</span> <span class="se">\</span>
  -d <span class="s1">'{"verified": true}'</span>
</code></pre>
<blockquote>
<p>JSON Response</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"user@example.com"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="mi">1572375004080</span><span class="p">,</span><span class="w">
    </span><span class="s2">"receipt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"B90YWS6AFX2LGWOXJ1LD-2018-55-1572375004080"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">15</span><span class="p">,</span><span class="w">
        </span><span class="s2">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Your submission has been accepted."</span><span class="p">,</span><span class="w">
        </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"This completes your HMDA filing process for this year. If you need to upload a new HMDA file, the previously completed filing will not be overridden until all edits have been cleared and verified, and the new file has been submitted."</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<table><thead>
<tr>
<th></th>
<th></th>
</tr>
</thead><tbody>
<tr>
<td>Method</td>
<td><code>POST</code></td>
</tr>
<tr>
<td>End Point</td>
<td><code>/{{year}}/submissions/{{sequenceNumber}}/sign</code></td>
</tr>
<tr>
<td>Body</td>
<td><code>{&quot;signed&quot;: true}</code></td>
</tr>
</tbody></table>
<h3 id='hmda-filing-api-end-points-get-sign-receipt'>Get Sign receipt</h3>
<blockquote>
<p>Example</p>
</blockquote>
<pre class="highlight shell tab-shell"><code>curl -X POST <span class="se">\</span>
  https://ffiec.cfpb.gov/v2/filing/institutions/B90YWS6AFX2LGWOXJ1LD/filings/2018/submissions/1520/sign <span class="se">\</span>
  -H <span class="s1">'Authorization: Bearer {{access_token}}'</span> <span class="se">\</span>
  -d <span class="s1">'{"verified": true}'</span>
</code></pre>
<blockquote>
<p>JSON Response</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"user@example.com"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="mi">1572375004080</span><span class="p">,</span><span class="w">
    </span><span class="s2">"receipt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"B90YWS6AFX2LGWOXJ1LD-2018-55-1572375004080"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">15</span><span class="p">,</span><span class="w">
        </span><span class="s2">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Your submission has been accepted."</span><span class="p">,</span><span class="w">
        </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"This completes your HMDA filing process for this year. If you need to upload a new HMDA file, the previously completed filing will not be overridden until all edits have been cleared and verified, and the new file has been submitted."</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<table><thead>
<tr>
<th></th>
<th></th>
</tr>
</thead><tbody>
<tr>
<td>Method</td>
<td><code>GET</code></td>
</tr>
<tr>
<td>End Point</td>
<td><code>/{{year}}/submissions/{{sequenceNumber}}/sign</code></td>
</tr>
</tbody></table>
<h1 id='rate-spread'>Rate Spread</h1><h2 id='rate-spread-rate-spread-api'>Rate Spread API</h2>
<p>The <code>/rateSpread</code> endpoint you can provide information about a loan and have the rate spread calculated via <code>POST</code>.</p>

<p><strong>Note:</strong> The response is either a number representing the rate spread or &quot;NA&quot;.</p>
<h2 id='rate-spread-end-points'>End Points</h2>
<p>Rate spread has 2 API endpoints, one for submitting JSON and one for CSV.</p>

<p><code>POST</code> <code>https://ffiec.cfpb.gov/public/rateSpread</code> <br>
  <code>POST</code> <code>https://ffiec.cfpb.gov/public/rateSpread/csv</code></p>
<h2 id='rate-spread-json-example'>JSON Example</h2>
<blockquote>
<p>Example</p>
</blockquote>
<pre class="highlight shell tab-shell"><code>  curl -X POST <span class="s2">"https://ffiec.cfpb.gov/public/rateSpread"</span> -H <span class="s2">"Content-Type: application/json"</span> -d <span class="s1">'{ "actionTakenType": 1, "loanTerm": 30, "amortizationType": "FixedRate", "apr": 6.0, "lockInDate": "2017-11-20", "reverseMortgage": 2 }'</span>
</code></pre>
<blockquote>
<p>JSON Response</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="w">  </span><span class="p">{</span><span class="s2">"rateSpread"</span><span class="p">:</span><span class="s2">"2.010"</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>JSON with the following parameters</p>

<table><thead>
<tr>
<th>var</th>
<th>value</th>
</tr>
</thead><tbody>
<tr>
<td>actionTakenType</td>
<td>1</td>
</tr>
<tr>
<td>loanTerm</td>
<td>30</td>
</tr>
<tr>
<td>amortizationType</td>
<td>FixedRate</td>
</tr>
<tr>
<td>apr</td>
<td>6.0</td>
</tr>
<tr>
<td>lockInDate</td>
<td>2017-11-20</td>
</tr>
<tr>
<td>reverseMortgage</td>
<td>2</td>
</tr>
</tbody></table>
<h2 id='rate-spread-csv-file-format'>CSV File Format</h2>
<p>The contents of this file must include the following information:</p>

<table><thead>
<tr>
<th>var</th>
<th>type</th>
<th>accepted values</th>
</tr>
</thead><tbody>
<tr>
<td>action_taken_type</td>
<td>integer</td>
<td><code>1</code> = Originated<br><code>2</code> = Approved Not Accepted<br><code>8</code> = Pre-approval request approved but not Accepted<br><code>3</code>, <code>4</code>, <code>5</code>, <code>6</code> or <code>7</code> will result in <code>NA</code></td>
</tr>
<tr>
<td>loan_term</td>
<td>integer</td>
<td>Range from <code>1</code> - <code>50</code></td>
</tr>
<tr>
<td>amortization_type</td>
<td>String</td>
<td><code>FixedRate</code> or <code>VariableRate</code></td>
</tr>
<tr>
<td>apr</td>
<td>double</td>
<td>The annual Percentage Rate on the loan, eg <code>6.0</code></td>
</tr>
<tr>
<td>lock_in_date</td>
<td>date</td>
<td><code>YYYY-MM-DD</code></td>
</tr>
<tr>
<td>reverse_mortgage</td>
<td>integer</td>
<td><code>2</code> = false<br><code>1</code> = true, will result in <code>NA</code></td>
</tr>
</tbody></table>
<h2 id='rate-spread-csv-example'>CSV Example</h2>
<blockquote>
<p>Example</p>
</blockquote>
<pre class="highlight shell tab-shell"><code>curl -X POST <span class="s2">"https://ffiec.cfpb.gov/public/rateSpread/csv"</span> -F <span class="nv">file</span><span class="o">=</span>&lt;file.csv&gt;
</code></pre>
<blockquote>
<p>CSV file with an added column for rate_spread calculated for each row</p>
</blockquote>
<pre class="highlight plaintext"><code>action_taken_type,loan_term,amortization_type,apr,lock_in_date,reverse_mortgage,rate_spread
1,30,FixedRate,6.0,2017-11-20,2,2.010
1,30,VariableRate,6.0,2017-11-20,2,2.150
</code></pre>
<p>Example CSV file with contents:</p>

<table><thead>
<tr>
<th></th>
<th></th>
<th></th>
<th></th>
<th></th>
</tr>
</thead><tbody>
<tr>
<td>1</td>
<td>30</td>
<td>FixedRate</td>
<td>6.0</td>
<td>2017-11-20</td>
</tr>
<tr>
<td>1</td>
<td>30</td>
<td>VariableRate</td>
<td>6.0</td>
<td>2017-11-20</td>
</tr>
</tbody></table>

      </div>
      <div class="dark-box">
      </div>
    </div>
  </body>
</html>
