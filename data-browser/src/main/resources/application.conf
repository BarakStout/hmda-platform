include "cors.conf"

akka {
  loglevel = info
  log-dead-letters = off
  log-dead-letters-during-shutdown = off
}

akka.http.server.request-timeout = infinite

server {
  bindings {
    address: "0.0.0.0"
    address: ${?SERVER_BIND_ADDRESS}

    port: 8070
    port: ${?BIND_PORT}
  }

  ask-timeout: 10 seconds

  routes {
    // these URLs are used when no query filters are supplied for nationwide routes
    nationwide-csv: "http://formget.s3-us-west-2.amazonaws.com/file_upload/2018/02/1518015561861wp-pubs-262002.csv%20-%20wp-pubs-262002.csv.csv"
    nationwide-csv: ${ROUTE_NATIONWIDE_CSV}

    nationwide-pipe: "http://hotelware.s3.amazonaws.com/uploads/wpallimport/uploads/4a1686339e30a69b9ed77bd38dcb859b/only_brands.csv_only_brands.csv_copy.csv"
    nationwide-pipe: ${ROUTE_NATIONWIDE_PIPE}
  }
}
// see keys dbconfig and db in common/src/main/resources/application.conf
// we provide project overrides for development
dbconfig {
  host = "127.0.0.1"
  host = ${?PG_HOST}

  port = 5432
  port = ${?PG_PORT}

  database = "hmda_user"
  database = ${?PG_DATABASE}

  table = "modifiedlar2018prod"
  table = ${?DATABROWSER_PG_TABLE}

  user = "hmda_user"
  user = ${?PG_USER}

  password = "mysecretpassword"
  password = ${?PG_PASSWORD}

  ssl = "disable"
  ssl = ${?PG_SSL}

  additionalConfig="ssl=true&sslfactory=org.postgresql.ssl.NonValidatingFactory"
  additionalConfig=${?PG_ADDCONFIG}
}
redis {
  hostname: "localhost"
  hostname: ${?REDIS_HOSTNAME}

  port: 6379
  port: ${?REDIS_PORT}

  ttl: 24 hours
}
